//To reinstall Node-Modules
in console log: npm install

///ASSIGNMENT 2.2///

You are going to add 2 new pages to your project:

A page to input data
A page to view the data in a table

Input Data Page

/Call the page write-data.html
/Style the page using a CSS file name write-data.css
/Store the JavaScript in a file named write-data.js
/Should have a title indicating it is a page for input
/Should have the same 4 links as on the landing page
/Should have an input box and label for each data element your website is storing
/Should have 2 buttons:
/Submit - for now it will just activate an alert that says "Submit button was pressed"
/Clear - clears all the input box fields

View Data Page

/Call the page view-data.html
/Style the page using a CSS file named view-data.css
/Store the JavaScript in a file named view-data.js
/Should have a title indicating in is a page for viewing the data
/Should have the same 4 links as on the landing page
/Create a table that will display the data from your database
/For now, your database will be a JSON object
/Create a JSON object that holds at least 5 records of your data
/On load, populate your table with that data

Links

/Update the href in your links so that it opens the appropriate page:
/Home link - should bring the user to the landing page
/Enter Data link - should bring the user to the write-data page
/View Data link - should bring the user to the view-data page

/// ///

//// LAB 5.2

In this lab we will create a web server for the project we began.

The project should have the following folder structure:

root directory - contains package.json
    server - contains app.js,  services.js, and router.js
        server/files - contains data files
    client - where web pages (html files) are
        client/js - for javascript files
        client/css - for css files
        client/images - for image files
And so on...
For now the server will:
Route the web pages to the client (router.js)
Receive user entered data from the web page and add the data to the data file (remember append) in the server/files directory when a POST is made (services.js)
Send the data back to the web page when a GET call is made (services.js)
We will need to modify our table creation function so that we capture the record id.
On the client side we will:
POST data entered into the write-data page
Create a table from a GET on the view-data page
Update the hyperlinks to use the server router

/// ASSIGNMENT 4.2

In lab 5.2, we created the ability to POST new data and retrieve that data for viewing in a table.

Now you will add the ability to DELETE data.  To do this you will:

Add a DELETE service in your services.js
Name the service "/delete-record".
Get the id sent in the request body JSON.
Read the database file we created in class. (Don't forget to parse the JSON.
Lop through the JSON array until you find the record with the matching id.
Splice that record from the array).
Save the JSON back to the database file.
Update the view-data.html and view-data.js files:
Add a column to the table header definition in the html file (it can be blank, it just needs to be there)
Add a button to the html string you created in your create table method (in view-data.js):
Give the button object the class: delete-button
Give the button a data-id attribute.  Set that equal to the value of the id field in your data array.
After creating adding the html with the innerHTML command, call the activateDelete() function.
Here is a file with the activateDelete function code for you to use: activateDelete.txtDownload activateDelete.txtOpen this document with ReadSpeaker docReader
Create the handleDelete function: 
It receives the deleteID variable from the listener created in activateDelete.
Create a DELETE fetch and send the deleteID to /delete-record on the server.
Test for SUCCESS: 
If successful, call retrieveData.
If unsuccessful, open an alert and display the error.
Note: DOM items created in JavaScript don't "exist" when the page is loaded.  Therefore, we call ativateDelete after the buttons are created.


 ------ ANNOUNCEMENT
This week we finished up lab 5.2, where we:

Completed the code on the client side (fetch) which enabled our website clients to be able to send data to the write-record service on our server.
Created the read-records service which reads our data file and sends back all the information to the client.
Created the fetch on the client side to call to the read-records service to get the data so it could be displayed.
This week you will be adding a new service (DELETE) to the services.js and then enabling the client to use that service.  Keep in mind that these are 2 separate steps. Focus on the DELETE service, then focus on what the client need to do.

Here are the steps for the DELETE service:

Accepts a delete id in the body (sent from the client).
Reads the data in from the data.txt file.
Parses that data into a JSON object.
Loops through the data array to find the array index which contains the delete id.
Removes that index from the array (research the splice() function).
Writes the altered array to the file (be sure to stringify).

On the client side you just need to identify the id for the record that is to be deleted.  
I provided a function that will get the id for you.  
Be sure to follow the requirement steps carefully.  
Once you have the id, call the delete service and send the id in a JSON object.


//ASSIGNMENT 5.2

Add a new web page to your server application:

Name the page browse-data.html
Use AngularJS to to make the request of all the data from the database
Use <div> elements (or other elements if you prefer) to display the data from one record in a nice format
Add two buttons:
"Next Record"
"Previous Record
Use AngularJS on a button click to change the record displayed
Remember to use CSS (browse-data.css) to keep it pretty.
Update the project in your GitHub repository. Input your GitHub URL when complete.
Hint: remember that the data is returned in an array of objects.

Extra Credit (10 points): Change your add record page from an HTML/JavaScript(/jQuery, if applicable) page to an AngularJS page.

 
////FINAL project
Make the following changes to your server:

DONE - Modify the view-data page to be an AngularJS page. - 20 Points
DONEAdd the ability to sort the table by a "type" - 35 points
 The type should be something that is used by many records
For example:  In the library repository you could use author or publisher as the type.  Avoid using the name (of a game, book, restaurant, etc.) field
DONE - Add a "get by type" listener to your server
DONE - Add the ability to update a record- 35 points
This can be done on the repository table page (as we did in the Harry Potter example) or on a new page.
DONE - Use the PUT method
DONE - Add a PUT listener to your server

**Keep it pretty (CSS) - 10 Points
Hint: We did numbers 1, 2, and 3 with Harry Potter.

Extra Credit (10 points): 
DONE - Change your add record page from an HTML/JavaScript(/jQuery, if applicable)  page to an AngularJS page. (if you did not do already for HW 10)
Extra Extra Credit 

**(40 points): 
Add a sort by dropdown box to your repository table. OK
The options should be each of your fields (not the _id) OK
When the option is selected, the page should use an $htttp call to retrieve the data sorted by the option selected. OK - ADD TO ANIMALSBYTYPE
On return the table should then be updated so the data is sorted. OK
Hint: don't forget to send the type that your table is currently displaying (ALL records, certain author, certain restaurant type, etc.) so only those records are displayed (but sorted). IN ANIMALSBYTYPE
Update your GitHub Repository.  Submit the link when complete
